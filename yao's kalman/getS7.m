function [A,Q]=getS7(trainS)
s1=size(trainS);

A=zeros(7,7);
A1=zeros(2,2);
for i=1:2
A1(i,:)=regress(trainS(i+4,2:s1(2))',trainS(5:6,1:s1(2)-1)');
end

% Make  State Model 
A(1,:)=[1,0,1,0,0,0,0];
A(2,:)=[0,1,0,1,0,0,0];
A(3,:)=[0,0,1,0,1,0,0];
A(4,:)=[0,0,0,1,0,1,0];
A(7,:)=[0,0,0,0,0,0,1];
A(5,:)=[0,0,0,0,A1(1,1),A1(1,2),0];
A(6,:)=[0,0,0,0,A1(2,1),A1(2,2),0];


Q1=0;
for i=1:s1(2)-1
Q1=(A1*trainS(3:4,i)-trainS(3:4,i+1))*(A1*trainS(3:4,i)-trainS(3:4,i+1))'+Q1;
end
Q1=Q1 ./(s1(2)-1);
Q=zeros(7,7);
Q(5,5)=Q1(1,1);
Q(5,6)=Q1(1,2);
Q(6,5)=Q1(2,1);
Q(6,6)=Q1(2,2);

